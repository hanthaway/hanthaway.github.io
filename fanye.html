<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
<style type="text/css">
*{margin: 0;padding: 0;list-style: none;}
html{overflow: hidden;}
#box{width: 480px;height: 260px;background: url(images/1.jpg) no-repeat;margin: 100px auto;position: relative;}	
#box #page1{width: 240px;height: 100%;position: absolute;right: 0;top:0; z-index:2;
	/*transition:1s all ease;*/
	transform:perspective(800px) rotateY(0deg);
	transform-origin:left center;
	transform-style:preserve-3d;
}
#box #page2{height: 100%;width: 240px;position: absolute;right: 0;top: 0;background: url(images/2.jpg) right center; z-index:1;}
#box #page1 div{left: 0;top: 0;width: 100%;height: 100%;position: absolute;}
#box #page1 .front{transform:translateZ(1px);background: url(images/1.jpg) no-repeat right center;right: 0;top: 0;z-index: 3;}
#box #page1 .back{transform:translateZ(-1px) scale(-1,1);background: url(images/2.jpg) no-repeat;right: 0;top: 0;z-index: 2;}
/*#box:active .page1{transform:perspective(800px) rotateY(-180deg); }*/
</style>	
<script type="text/javascript">
window.onload=function(){
  var oBox=document.getElementById('box');
  var oPage1  = oBox.querySelector("#page1");
  var oFront = oBox.querySelector(".front");
  var oBack  = oBox.querySelector(".back");
  var oPage2 = oBox.querySelector("#page2");
  var ready=true;
  var now=0;
  oBox.onclick=function(){
    if(!ready) return;
    ready=false;
    now++;
    oPage1.style.transition='1s all ease';
    oPage1.style.transform='perspective(800px) rotateY(-180deg)';

  };
  oPage1.addEventListener("transitionend",function(){
		ready = true;
		oPage1.style.transition = "none";
		oPage1.style.transform = "perspective(800px) rotateY(0deg)";
		
		
		oBox.style.backgroundImage = "url(images/"+(now%11+1)+".jpg)";
		oFront.style.backgroundImage = "url(images/"+(now%11+1)+".jpg)";
		oBack.style.backgroundImage = "url(images/"+((now+1)%11+1)+".jpg)";
		oPage2.style.backgroundImage = "url(images/"+((now+1)%11+1)+".jpg)";	
	});

};	
</script>
</head>
<body>
	<div id='box'>
		<div id='page1'>
			<div class="front"></div>
			<div class="back"></div>
		</div>
		<div id='page2'></div>
	</div>
</body>
</html>